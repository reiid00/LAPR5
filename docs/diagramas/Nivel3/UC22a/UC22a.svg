<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="468px" preserveAspectRatio="none" style="width:1195px;height:468px;background:#FFFFFF;" version="1.1" viewBox="0 0 1195 468" width="1195px" zoomAndPan="magnify"><defs><filter height="300%" id="f1febch65tl85a" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1febch65tl85a)" height="353.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="15" y="51.6094"/><rect fill="#FFFFFF" filter="url(#f1febch65tl85a)" height="331.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="486" y="73.9609"/><rect fill="#FFFFFF" filter="url(#f1febch65tl85a)" height="253.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="592" y="129.6641"/><rect fill="#FFFFFF" filter="url(#f1febch65tl85a)" height="177.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="785" y="160.0156"/><rect fill="#FFFFFF" filter="url(#f1febch65tl85a)" height="73.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1059" y="233.7188"/><rect fill="#FFFFFF" filter="url(#f1febch65tl85a)" height="287.1641" style="stroke:#000000;stroke-width:2.0;" width="724.5" x="456.5" y="88.9609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="20" x2="20" y1="41.6094" y2="423.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="490.5" x2="490.5" y1="41.6094" y2="423.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="597" x2="597" y1="41.6094" y2="423.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="790" x2="790" y1="41.6094" y2="423.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1064" x2="1064" y1="41.6094" y2="423.4766"/><rect fill="#FEFECE" filter="url(#f1febch65tl85a)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="26" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="12" x="12" y="26.5332">UI</text><rect fill="#FEFECE" filter="url(#f1febch65tl85a)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="26" x="5" y="422.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="12" x="12" y="444.0098">UI</text><rect fill="#FEFECE" filter="url(#f1febch65tl85a)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="45" x="466.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="473.5" y="26.5332">MDR</text><rect fill="#FEFECE" filter="url(#f1febch65tl85a)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="45" x="466.5" y="422.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="473.5" y="444.0098">MDR</text><rect fill="#FEFECE" filter="url(#f1febch65tl85a)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="66" x="562" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="569" y="26.5332">Relation</text><rect fill="#FEFECE" filter="url(#f1febch65tl85a)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="66" x="562" y="422.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="569" y="444.0098">Relation</text><rect fill="#FEFECE" filter="url(#f1febch65tl85a)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="76" x="750" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="757" y="26.5332">Controller</text><rect fill="#FEFECE" filter="url(#f1febch65tl85a)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="76" x="750" y="422.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="757" y="444.0098">Controller</text><rect fill="#FEFECE" filter="url(#f1febch65tl85a)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="82" x="1021" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="1028" y="26.5332">Repository</text><rect fill="#FEFECE" filter="url(#f1febch65tl85a)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="82" x="1021" y="422.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="1028" y="444.0098">Repository</text><rect fill="#FFFFFF" filter="url(#f1febch65tl85a)" height="353.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="15" y="51.6094"/><rect fill="#FFFFFF" filter="url(#f1febch65tl85a)" height="331.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="486" y="73.9609"/><rect fill="#FFFFFF" filter="url(#f1febch65tl85a)" height="253.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="592" y="129.6641"/><rect fill="#FFFFFF" filter="url(#f1febch65tl85a)" height="177.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="785" y="160.0156"/><rect fill="#FFFFFF" filter="url(#f1febch65tl85a)" height="73.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1059" y="233.7188"/><polygon fill="#A80036" points="474,69.9609,484,73.9609,474,77.9609,478,73.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="25" x2="480" y1="73.9609" y2="73.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="32" y="69.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="43" y="69.1045">get(/api/relations/idUser1)</text><path d="M456.5,88.9609 L529.5,88.9609 L529.5,96.9609 L519.5,106.9609 L456.5,106.9609 L456.5,88.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="287.1641" style="stroke:#000000;stroke-width:2.0;" width="724.5" x="456.5" y="88.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="471.5" y="103.4561">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="48" x="544.5" y="102.3799">[nUsers]</text><polygon fill="#A80036" points="580,125.6641,590,129.6641,580,133.6641,584,129.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="496" x2="586" y1="129.6641" y2="129.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="503" y="124.8076">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="514" y="124.8076">get</text><polygon fill="#A80036" points="773,156.0156,783,160.0156,773,164.0156,777,160.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="602" x2="779" y1="160.0156" y2="160.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="609" y="155.1592">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="620" y="155.1592">getRelationFriends(idUser)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="795" x2="837" y1="190.3672" y2="190.3672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="837" x2="837" y1="190.3672" y2="203.3672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="796" x2="837" y1="203.3672" y2="203.3672"/><polygon fill="#A80036" points="806,199.3672,796,203.3672,806,207.3672,802,203.3672" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="802" y="185.5107">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="813" y="185.5107">recebe o request body</text><polygon fill="#A80036" points="1047,229.7188,1057,233.7188,1047,237.7188,1051,233.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="795" x2="1053" y1="233.7188" y2="233.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="802" y="228.8623">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="813" y="228.8623">findAll</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1069" x2="1111" y1="264.0703" y2="264.0703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1111" x2="1111" y1="264.0703" y2="277.0703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1070" x2="1111" y1="277.0703" y2="277.0703"/><polygon fill="#A80036" points="1080,273.0703,1070,277.0703,1080,281.0703,1076,277.0703" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1076" y="259.2139">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="1087" y="259.2139">consulta a DB</text><polygon fill="#A80036" points="806,303.4219,796,307.4219,806,311.4219,802,307.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="800" x2="1063" y1="307.4219" y2="307.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="812" y="302.5654">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229" x="823" y="302.5654">anexa a(s) relação(s) ao response body</text><polygon fill="#A80036" points="613,333.7734,603,337.7734,613,341.7734,609,337.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="607" x2="789" y1="337.7734" y2="337.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="619" y="332.917">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="630" y="332.917">return</text><polygon fill="#A80036" points="507,364.125,497,368.125,507,372.125,503,368.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="501" x2="591" y1="368.125" y2="368.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="513" y="363.2686">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="524" y="363.2686">status 200</text><polygon fill="#A80036" points="31,401.4766,21,405.4766,31,409.4766,27,405.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="25" x2="490" y1="405.4766" y2="405.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="37" y="400.6201">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="419" x="55" y="400.6201">mostra o número de relacões resultante por utilizador forma decrescente</text><!--MD5=[e552897359991dfb5026b477255007ba]
@startuml
autonumber
'hide footbox

		participant "UI" as ui
		participant "MDR" as mdr
    participant "Relation" as rel
    participant "Controller" as ctrl
    participant "Repository" as repo

    activate ui
		ui->mdr:get(/api/relations/idUser1)
    activate mdr

     loop nUsers
        mdr->rel: get
        activate rel
        rel->ctrl:getRelationFriends(idUser)
        activate ctrl
        ctrl->ctrl: recebe o request body
		    ctrl->repo: findAll
        activate repo
        repo->repo: consulta a DB
        repo- ->ctrl: anexa a(s) relação(s) ao response body
        deactivate repo
        ctrl- ->rel: return
        deactivate ctrl
        rel- ->mdr: status 200
    end
    deactivate rel
    mdr- ->ui: mostra o número de relacões resultante por utilizador forma decrescente
    deactivate mdr
    deactivate ui
@enduml

@startuml
autonumber

		participant "UI" as ui
		participant "MDR" as mdr
    participant "Relation" as rel
    participant "Controller" as ctrl
    participant "Repository" as repo

    activate ui
		ui->mdr:get(/api/relations/idUser1)
    activate mdr

     loop nUsers
        mdr->rel: get
        activate rel
        rel->ctrl:getRelationFriends(idUser)
        activate ctrl
        ctrl->ctrl: recebe o request body
		    ctrl->repo: findAll
        activate repo
        repo->repo: consulta a DB
        repo- ->ctrl: anexa a(s) relação(s) ao response body
        deactivate repo
        ctrl- ->rel: return
        deactivate ctrl
        rel- ->mdr: status 200
    end
    deactivate rel
    mdr- ->ui: mostra o número de relacões resultante por utilizador forma decrescente
    deactivate mdr
    deactivate ui
@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 GMT 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>